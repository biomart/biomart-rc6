package org.biomart.configurator.test;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;

import org.biomart.api.MartApi;
import org.biomart.common.resources.Log;
import org.jdom.Document;
import org.jdom.input.SAXBuilder;

public class JonathanMartApiTest {

    private static String XML_PATH = "/Users/sah84/Desktop/oicr/biomart/biomart-java/trunk/registry/";

    public static void main(String args[]) throws Exception {

        String xml_file = new String(XML_PATH);
        String outFileName = new String(XML_PATH);

        //xml_file += "icgc3.xml";
        //xml_file += "icgc_data_portal_9002_real_mform.xml";
        //xml_file += "vega.xml";
        //xml_file += "reactome.xml";
        //xml_file += "ensembl.xml";
        xml_file += "ensembl-reactome-new.xml";

        SAXBuilder parser = new SAXBuilder();
        Log.info("Starting API: "+ xml_file);
        FileInputStream in = new FileInputStream(new File(xml_file));
        Document doc = parser.build(in);
        in.close();


        outFileName += "hello.txt";
        //OutputStream outFile = new FileOutputStream(outFileName);
        FileOutputStream output = new FileOutputStream(outFileName);

        MartApi api = new MartApi(doc,XML_PATH+".ensembl-reactome-new");
        api.prepareQuery("<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE Query><Query client=\"true\" processor=\"TSV\" limit=\"1000\" header=\"1\"><Dataset name=\"hsapiens_gene_pancreas\" config=\"hsapiens_gene_pancreas_config\"><Attribute name=\"ensembl_gene_id\"/></Dataset></Query>", "").runQuery(output);
        // api.prepareQuery("<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE Query><Query client=\"true\" processor=\"TSV\" limit=\"1000\" header=\"1\"><Dataset name=\"hsapiens_gene_ensembl_tcgaLAML\" config=\"hsapiens_gene_ensembl_7_1\"><Filter name=\"hsapiens_gene_ensembl__methylation__dm__tumour_sample_id\" value=\"TCGA-AB-2868-03A\"/><Attribute name=\"ensembl_gene_id\"/><Attribute name=\"cancertype\"/><Attribute name=\"hsapiens_gene_ensembl__methylation__dm__tumour_sample_id\"/><Attribute name=\"donor_id_sample_garvanPanc3_hsapiens_gene_ensembl_tcgaOV3\"/><Attribute name=\"diagnosis_id_sample_garvanPanc3_hsapiens_gene_ensembl_tcgaOV3\"/></Dataset></Query>","").runQuery(output);

        // api.prepareQuery("<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE Query><Query client=\"\" processor=\"TSV\" limit=\"1000\" header=\"1\"><Dataset name=\"hsapiens_gene_ensembl_hopkinsBreast3,hsapiens_gene_ensembl_hopkinsPanc3,hsapiens_gene_ensembl_garvanPanc3\" config=\"hsapiens_gene_ensembl_5_1\"><Filter name=\"_displayname_pathway_hsapiens_gene_ensembl_tcgaOV3\" value=\"TNF signaling\"/><Attribute name=\"cancertype\"/><Attribute name=\"assemblyversion\"/><Attribute name=\"ensembl_gene_id\"/><Attribute name=\"hgnc_symbol\"/><Attribute name=\"description\"/><Attribute name=\"chromosome_name\"/><Attribute name=\"start_position\"/><Attribute name=\"end_position\"/><Attribute name=\"strand\"/></Dataset></Query>","").runQuery(output);
        // linkindices query
        // ensembl to pathway (reactome)


        //api.prepareQuery("<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE Query><Query client=\"true\" processor=\"TSV\" limit=\"1000\" header=\"1\"><Dataset name=\"hsapiens_gene_pancreas\" config=\"hsapiens_gene_pancreas_config\"><Attribute name=\"stableidentifier_identifier\"/><Attribute name=\"ensembl_gene_id\"/></Dataset></Query>", "").runQuery(output);

        // pathway (reactome) to ensmebl
        //api.prepareQuery("<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE Query><Query client=\"true\" processor=\"TSV\" limit=\"1000\" header=\"1\"><Dataset name=\"pathway\" config=\"pathway_config\"><Attribute name=\"fp_transcript_id\"/><Attribute name=\"fp_ensembl_gene_id\"/><Attribute name=\"referencedatabase_ensembl\"/><Attribute name=\"ensembl_peptide_id\"/><Attribute name=\"stableidentifier_identifierversion\"/><Attribute name=\"_displayname\"/></Dataset></Query>", "").runQuery(output);

        // NetBox query
        //api.prepareQuery("<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE Query><Query client=\"\" processor=\"NETBOX\" limit=\"1000\" header=\"0\"><Dataset name=\"hsapiens_gene_pancreas\" config=\"hsapiens_gene_pancreas_config\"><Filter name=\"hgnc_symbol\" value=\"ERBB2,PIK3R1,GLI1,CPSF6,ARHGAP9,PIK3CA,FRS2,LYZ,INHBC,C9orf72,INHBE,YEATS4,LNX1,LRIG3,MDM4,ECHS1,KDR,KISS1,GBAS,RAB3IP\"/><Attribute name=\"hgnc_symbol\"/></Dataset></Query>", "").runQuery(output);
        //api.prepareQuery("<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE Query><Query client=\"\" processor=\"NETBOX\" limit=\"1000\" header=\"0\"><Dataset name=\"hsapiens_gene_pancreas\" config=\"hsapiens_gene_pancreas_config\"><Filter name=\"hgnc_symbol\" value=\"CDKN2B,EGFR,CDKN2A,MTAP,PTEN,TP53,SEC61G,LANCL2,DMRTA1,IFNE,IFNA1,ELAVL2,IFNA8,IFNA2,IFNA13,IFNA6,KLHL9,IFNA5,IFNA14,CYP27B1,IFNA10,IFNA16,IFNA7,IFNW1,IFNA21,CDK4,TSPAN31,VOPP1,MARCH9,VSTM2A,KIAA1797,AGAP2,METTL1,TSFM,FAM119B,AVIL,MLLT3,PTPLAD2,IFNB1,CTDSP2,HLA-DRA,NF1,XRCC6BP1,MDM2,OS9,GSX2,SLC24A2,RPL21P44,PDGFRA,CHIC2,SEPT14,NME7,RB1,C9orf82,MARS,SLC35E3,DTX3,PLAA,CPM,MBD6,PIP4K2C,SLC26A10,LRRC19,KIT,ZNF713,B4GALNT1,TEK,IFT74,DDIT3,GEFT,KIF5A,LINGO2,C9orf11,MOBKL2B,NUP107,DCTN2,FKBP9,IFNK,PTPRD,PAOX,ERBB2,PIK3R1,GLI1,CPSF6,ARHGAP9,PIK3CA,FRS2,LYZ,INHBC,C9orf72,INHBE,YEATS4,LNX1,LRIG3,MDM4,ECHS1,KDR,KISS1,GBAS,RAB3IP,PLEKHA6,CCT2,ETNK2,MRPS17,LRRN2,REN,PPP1R15B,SOX13,LRRC10,PIK3C2B,GOLT1A,C1orf157,CLRN3,C10orf90,HMGA2,PPM1H,TYRP1,TPD52L3,DOCK1,LAX1,NPS,FAM196A,hCG_1757335,BEST3,FOXI2,PRELP,TCERG1L,SNRPE,SRD5A3,CCT6A,TMEM165,GRIP1,RAP1B,ATP2B4,PSPH,EBF3,GLRX3,PTPRE,SLC16A7,ZC3H11A,OPTC,ADAM12,FIP1L1,C9orf150,NFASC,MKI67,R3HDM2,PSIP1,NKX6-2,C9orf93,RCL1,INSL6,PPAPDC2,CNOT2,AK3,ERMP1,AVPR1A,NOTUM,KIAA2026,CD274,RANBP6,KIAA1432,MLANA,MON2,RASL11B,CCND2,SCFD2,INSL4,BNIP3,GLDC,ATAD1,EPHA3,KCNV2,MGMT,STAC3,SNAPC3,DUX4,HELB,JAK2,GLIS3,FRG2B,LRRC66,LRRC27,KDM4C,CAND1,USP15,DCUN1D4,SGCB,CDC37L1,BNC2,PPP2R2D,SRGAP1,LMO7,FMOD,TTC39B,FAM19A2,FREM1,ZDHHC21,KLRC3,C10orf92,SUMF2,STK32C,C10orf91,C9orf123,SPATA18,C12orf61,PDCD1LG2,RFX3,USP46,KIAA0020,NFIB,TDRD3,C9orf68,PWWP2B,CNTLN,RLN2,SH3GL2,IL33,JAKMIP3,MPDZ,C10orf93,RNLS,KCNMB4,INPP5A,ACER2,VLDLR,SLC1A1,DPYSL4,CLOCK,CER1,SMARCA2,TMEM5,DST,PHKG1,CHCHD2,UHRF2,CHIT1,IRAK3,MYO3A,CELSR1,PRAP1,C22orf9,ZNF511,GAD2,PANX2,ADAMTSL1,RIBC2,NCRNA00168,GTSE1,TSPO,KIAA1644,PIP4K2A,SLC12A6,GALNT8,LPHN3,CALY,MDM1,TMEM19,DYRK4,RAPGEF3,C12orf66,SMC1B,ZBED4,C22orf40,BIK,PARVG,ARID2,PKDREJ,MSRB3,TMEM81,TAF1,CRELD2,OR6C74,MCAT,CDKN2C,DACH1,KCNQ1,EDNRB,SLC6A12,RAD51AP1,TSPAN9,A2BP1,DENND4C,RP3-474I12.5,MIOX,SBF1,ENO1,DIAPH3,CCR6,UCHL3,DSTYK,GRAMD4,PARP11,TBC1D4,RPAP3,BTG2,NUP50,HDAC10,RPS6,WDR27,CACNA1C,PHF21B,PIBF1,BRD1,RBBP5,EFCAB4B,NMU,IL26,TTC38,PNPLA5,ZFC3H1,CERK,PNPLA3,WIF1,NDUFA9,SLC2A5,LDOC1L,ATAD2B,NTF3,TBK1,SLFN11,PHACTR3,NDFIP2,SLAIN1,FGF6,PITRM1,RASSF4,LARP4B,HAUS6,KLF5,DOCK5,DIP2C,PFKP,SLITRK1,TUBGCP2,UPK3A,DMRT2,C12orf4,C12orf56,UNC93A,KCNA1,ARHGAP8,RRAGA,C6orf124,RERE,RAB21,PIM1,PCDH9,HSPA1A,CTNNA3,DMRT3,PIM3,TTLL2,PHF10,GTSF1,HDAC7,APBB1IP,RNASET2,C13orf37,AKR1E2,SLITRK5,KLF12,PTPRR,IFNG,GTPBP4,FGF23,PRMT8,TYMP,SPRY2,MAPK8IP2,SFT2D1,LLPH,C13orf34,PLIN2,DYRK2,MAPK12,KLHDC7B,WDR37,SLITRK6,KCTD12,ADM2,MLC1,PDCL2,OR10A7,PDCD2,XPOT,C6orf70,TBC1D22A,T,EXOC1,AKR1C3,TCTE3,SAPS2,VDR,LARP4,NCKAP1L,FAM116B,AKR1C1,CNTN2,NDUFA4L2,AKR1C4,BCL11A,KLHL1,SCEL,ADORA1,SLC45A1,SLC2A7,DMRT1,SPAG6,MYCBP2,C12orf5,FAM118A,A2M,FBXL3,OMG,PLXNB2,PSMB1,RAB11FIP4,RBM26,FAM154A,ATXN10,PCDH17,GNS,TRABD,FBLN1,ARSA,CLN5,SLC48A1,PARVB,KLF6,PAPSS2,COMMD6,TBC1D15,DACT2,PTPRB,CHI3L1,CDC123,CHKB,BBS10,TBP,C12orf64,GPR157,AKR1CL1,EVI2B,DNAJC1,MYBPH,KCNA5,FGFR1OP,THAP2,ADAMTS20,IDI2,RASSF3,MPPED1,TMBIM4,ALG12,RPS6KA2,MOV10L1,FAM120B,CPT1B,THOC4,ADARB2,ODF3B,C10orf10,PRR18,RNF219,SLFN13,ZNF479,IL17REL,LMF2,TTLL8,PDE10A,C22orf26,TTLL12,SLFN12,TRMU,ADAM8,C10orf125,AKR1C2,NCAM1,COMMD3,IDI1,ZMYND11,FAF1,CA6,TUBGCP6,TCP10,C6orf120,THBS2,PPARA,P11,FAM19A5,PRR5,IL22,SULT4A1,DIS3,MAPK11,ST7,DLL1,BRP44L,BMI1,CTRB1,AKAP3,SCUBE1,GPR31,PTPRZ1,SAMM50,WNT7B,SCO2,LEMD3,POU4F1,NCAPH2,EFCAB6,KCNA6,RP3-402G11.5,RABL2B,PCDH20,LOC553158\"/><Attribute name=\"hgnc_symbol\"/></Dataset></Query>", "").runQuery(output);

        //api.prepareQuery("<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE Query><Query client=\"true\" processor=\"TSV\" limit=\"-1\" header=\"1\"><Dataset name=\"hsapiens_gene_ensembl_garvanPanc3\" config=\"hsapiens_gene_ensembl_7_1\"><Attribute name=\"cancertype\"/><Attribute name=\"assemblyversion\"/><Attribute name=\"ensembl_transcript_id\"/><Attribute name=\"external_gene_db\"/><Attribute name=\"chromosome_name\"/></Dataset></Query>").runQuery(output);

//        //pseudo only query
        //api.prepareQuery("<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE Query><Query client=\"true\" processor=\"TSV\" limit=\"-1\" header=\"1\"><Dataset name=\"hsapiens_gene_ensembl_garvanPanc3,hsapiens_gene_ensembl_oicrPanc3b,hsapiens_gene_ensembl_sangerLung3b\" config=\"hsapiens_gene_ensembl_7_1\"><Attribute name=\"assemblyversion\"/><Attribute name=\"cancertype\"/></Dataset></Query>", "").runQuery(output);
        //api.prepareQuery("<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE Query><Query client=\"true\" processor=\"TSV\" limit=\"1000000\" header=\"1\"><Dataset name=\"germline_snp_03_QCMGPancreas3a\" config=\"germline_snp_03\"><Attribute name=\"germline_snp_03__sgv__main_analysis_id\"/><Attribute name=\"germline_snp_03__sgv__main_chromosome\"/><Attribute name=\"germline_snp_03__sgv__main_chromosome_start\"/></Dataset></Query>").runQuery(output);
        //api.prepareQuery("<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE Query><Query client=\"true\" processor=\"TSV\" limit=\"-1\" header=\"1\"><Dataset name=\"hsapiens_gene_ensembl_DCCTEST119\" ><Attribute name=\"hsapiens_gene_ensembl__translation__main_analysis_id_1020\"/><Attribute name=\"hsapiens_gene_ensembl__translation__main_attrib_type_id_1069\"/><Attribute name=\"hsapiens_gene_ensembl__ox_EntrezGene__dm_analysis_id_1040\"/><Attribute name=\"hsapiens_gene_ensembl__ox_RefSeq_peptide__dm_analysis_id_1040\"/><Attribute name=\"hsapiens_gene_ensembl__ox_protein_id__dm_analysis_id_1040\"/></Dataset></Query>").runQuery(output);
        // post links testing
        //api.prepareQuery("<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE Query><Query client=\"webbrowser\" processor=\"TSV\" limit=\"-1\" header=\"1\"><Dataset name=\"hsapiens_gene_ensembl_tcgaOV3,hsapiens_gene_ensembl_tcgaGBM3,hsapiens_gene_ensembl_garvanPanc3\" config=\"hsapiens_gene_ensembl_7_1\"><Attribute name=\"ensembl_gene_id\"/><Attribute name=\"sample__sample__main__primary_secondary_copy_sample_garvanPanc3_hsapiens_gene_ensembl_tcgaOV3\"/><Attribute name=\"tissue_fixation_protocol_copy_sample_garvanPanc3_hsapiens_gene_ensembl_tcgaOV3\"/></Dataset></Query>").runQuery(output);

        // with pseudo attribtue
        //api.prepareQuery("<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE Query><Query processor=\"TSV\" limit=\"2500\"><Dataset name=\"snp_hopkinsGBM3\" config=\"snp\"><Attribute name=\"cancertype\"/><Attribute name=\"chromosome\"/><Attribute name=\"chromosome_start\"/><Attribute name=\"chromosome_end\"/><Attribute name=\"reference_genome_allele\"/><Attribute name=\"simple_somatic_mutation__dm_sample_id\"/><Attribute name=\"simple_somatic_mutation__dm_mutation_id\"/><Attribute name=\"cancertype\"/><Attribute name=\"mutation_type\"/><Attribute name=\"simple_somatic_mutation__dm_tumour_genotype\"/><Attribute name=\"simple_somatic_mutation__dm_status\"/><Attribute name=\"simple_somatic_mutation__dm_validation_status\"/><Attribute name=\"dataversion\"/></Dataset></Query>", output);

        //api.prepareQuery("<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE Query><Query processor=\"TSV\" limit=\"2500\"><Dataset name=\",snp_hopkinsPanc3,snp_hopkinsColon3,snp_hopkinsGBM3\" config=\"snp\"><Attribute name=\"cancertype\"/><Attribute name=\"chromosome\"/><Attribute name=\"chromosome_start\"/><Attribute name=\"chromosome_end\"/><Attribute name=\"reference_genome_allele\"/><Attribute name=\"simple_somatic_mutation__dm_sample_id\"/><Attribute name=\"simple_somatic_mutation__dm_mutation_id\"/><Attribute name=\"cancertype\"/><Attribute name=\"mutation_type\"/><Attribute name=\"simple_somatic_mutation__dm_tumour_genotype\"/><Attribute name=\"simple_somatic_mutation__dm_status\"/><Attribute name=\"simple_somatic_mutation__dm_validation_status\"/><Attribute name=\"dataversion\"/></Dataset></Query>", output);
        //api.prepareQuery("<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE Query><Query processor=\"TSV\" limit=\"100\" client=\"webbrowser\"><Dataset name=\"hsapiens_gene_ensembl_sangerBreast3b\" config=\"hsapiens_gene_ensembl\"><Filter name=\"path_title_copy\" value=\"Apoptosis\"/><Attribute name=\"ensembl_gene_id\"/><Attribute name=\"hgnc_symbol\"/><Attribute name=\"description\"/><Attribute name=\"chromosome_name\"/><Attribute name=\"start_position\"/><Attribute name=\"end_position\"/><Attribute name=\"strand\"/><Attribute name=\"cancertype\"/><Attribute name=\"dataversion\"/></Dataset></Query>", output);
        
        //test MUTATION AND CNV post processing hack
        
        //api.prepareQuery("<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE Query><Query processor=\"TSV\" limit=\"100\" client=\"webbrowser\"><Dataset name=\"snp_sangerMelanoma3b\" config=\"snp\"><Filter name=\"s_with_validation_status__validated\" value=\"only\"/><Attribute name=\"cancertype\"/><Attribute name=\"dataversion\"/><Attribute name=\"assemblyversion\"/><Attribute name=\"chromosome\"/><Attribute name=\"chromosome_start\"/><Attribute name=\"chromosome_end\"/><Attribute name=\"reference_genome_allele\"/><Attribute name=\"simple_somatic_mutation__dm_sample_id\"/><Attribute name=\"simple_somatic_mutation__dm_mutation_id\"/><Attribute name=\"mutation_type\"/><Attribute name=\"simple_somatic_mutation__dm_tumour_genotype\"/><Attribute name=\"simple_somatic_mutation__dm_validation_status\"/></Dataset></Query>", output);
        //api.prepareQuery("<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE Query><Query processor=\"TSV\" limit=\"100\" client=\"webbrowser\"><Dataset name=\"cnv_hopkinsGBM3\" config=\"cnv\"><Filter name=\"s_mutation_type__gain\" value=\"only\"/><Attribute name=\"cancertype\"/><Attribute name=\"dataversion\"/><Attribute name=\"assemblyversion\"/><Attribute name=\"chromosome\"/><Attribute name=\"chromosome_start\"/><Attribute name=\"chromosome_end\"/><Attribute name=\"copy_number_somatic_mutation__dm_mutation_id\"/><Attribute name=\"copy_number_somatic_mutation__dm_mutation_type\"/><Attribute name=\"tumour_sample_id\"/><Attribute name=\"copy_number_somatic_mutation__dm_copy_number\"/></Dataset></Query>", output);
        //api.prepareQuery("<Query processor=\"TSV\" limit=\"100\" client=\"martwizard\"><Dataset name=\"cnv_hopkinsGBM3\" config=\"cnv\"><Filter name=\"s_mutation_type__loss\" value=\"only\"/><Attribute name=\"cancertype\"/><Attribute name=\"dataversion\"/><Attribute name=\"assemblyversion\"/><Attribute name=\"chromosome\"/><Attribute name=\"chromosome_start\"/><Attribute name=\"chromosome_end\"/><Attribute name=\"copy_number_somatic_mutation__dm_mutation_id\"/><Attribute name=\"copy_number_somatic_mutation__dm_mutation_type\"/><Attribute name=\"tumour_sample_id\"/><Attribute name=\"copy_number_somatic_mutation__dm_copy_number\"/></Dataset></Query>", output);
        //api.prepareQuery("<Query processor=\"TSV\" limit=\"100\"><Dataset name = \"exp_garvanPanc3\" interface = \"default\" ><Attribute name=\"sample_id\"/><Attribute name=\"gene_stable_id\"/><Attribute name=\"exon_stable_id\"/><Attribute name=\"exon_chromosome\"/><Attribute name=\"exon_start\"/><Attribute name=\"exon_end\"/><Attribute name=\"exon_strand\"/><Attribute name=\"normalized_exon_count\"/><Attribute name=\"normalization_algorithm\"/><Attribute name=\"raw_exon_count\"/><Attribute name=\"exon_validation_status\"/></Dataset></Query>", output);
        //api.prepareQuery("<Query processor=\"TSV\" limit=\"10\">     <Dataset name=\"hsapiens_gene_ensembl_hopkinsBreast,hsapiens_gene_ensembl_sangerBreast,hsapiens_gene_ensembl_hopkinsColon,hsapiens_gene_ensembl_hopkinsGBM\" config=\"hsapiens_gene_ensembl\">         <Attribute name=\"ensembl_gene_id\"/>     </Dataset>     <Dataset name=\"kegg\" config=\"kegg\">         <Attribute name=\"pathway_name\"/>     </Dataset>     <Dataset name=\"pathway\" config=\"pathway\">         <Attribute name=\"pathway_db_id\"/>     </Dataset> </Query>",output);
        //api.prepareQuery("<Query limit=\"100\" client=\"webbrowser\" processor = \"TXT\"> <Dataset name=\"hsapiens_gene_ensembl_hopkinsColon,hsapiens_gene_ensembl_oicr\"><Attribute name = \"ensembl_gene_id\" /><Attribute name=\"ensembl_transcript_id\"/> </Dataset><Dataset name=\"cnv_oicr\"> <Filter name = \"s_mutation_id\" value=\"P53\"/> <Attribute name=\"copy_number_somatic_mutation__dm_sample_type\"/></Dataset> </Query>",output);
        //api.prepareQuery("<Query limit=\"100\" client=\"webbrowser\" processor = \"TXT\"> <Dataset name=\"hsapiens_gene_ensembl_hopkinsColon\"><Attribute name=\"go_biological_process_id\"/><Attribute name=\"ensembl_gene_id\"/> </Dataset><Dataset name=\"hsapiens_gene_ensembl_sangerBreast\"><Attribute name = \"ensembl_gene_id\" /><Attribute name=\"ensembl_transcript_id\"/> </Dataset> </Query>");
        //api.prepareQuery("<Query limit=\"100\" client=\"webbrowser\" processor = \"TXT\"> <Dataset name=\"hsapiens_gene_ensembl_hopkinsColon\"><Attribute name=\"go_biological_process_id\"/><Attribute name=\"ensembl_gene_id\"/> </Dataset></Query>");
        //api.prepareQuery("<Query limit=\"100\" client=\"webbrowser\" processor = \"TSV\"> <Dataset name=\"hsapiens_gene_ensembl_hopkinsColon,hsapiens_gene_ensembl_oicr\"><Attribute name = \"ensembl_gene_id\" /><Attribute name=\"ensembl_transcript_id\"/> </Dataset><Dataset name=\"cnv_oicr\"> <Filter name = \"s_mutation_id\" value=\"P53\"/> <Attribute name=\"copy_number_somatic_mutation__dm_sample_type\"/></Dataset><Dataset name=\"hsapiens_gene_ensembl_sangerBreast\">  <Attribute name=\"copy_number_somatic_mutation__dm_sample_type\"/></Dataset></Query>",output);
        //api.prepareQuery("<Query limit=\"100\" client=\"webbrowser\" processor = \"TSV\"> <Dataset name=\"hsapiens_gene_ensembl_hopkinsBreast\"><Attribute name = \"ensembl_gene_id\" /><Attribute name=\"ensembl_transcript_id\"/></Dataset> <Dataset name=\"hsapiens_gene_ensembl_hopkinsColon\"><Attribute name = \"ensembl_gene_id\" /><Attribute name=\"ensembl_transcript_id\"/> </Dataset></Query>", output);


        // 9003 1 dataset 
        //api.prepareQuery("<Query limit=\"100\" client=\"webbrowser\" processor = \"TSV\"> <Dataset name=\"hsapiens_gene_ensembl_oicr\"><Attribute name = \"ensembl_gene_id\" /><Attribute name = \"ensembl_transcript_id\" /><Attribute name = \"ensembl_peptide_id\" /></Dataset></Query>",output);
        //api.prepareQuery("<Query limit=\"100\" client=\"webbrowser\" processor = \"TSV\"> <Dataset name=\"hsapiens_gene_ensembl_hopkinsBreast\"><Attribute name = \"ensembl_gene_id\" /><Attribute name=\"ensembl_transcript_id\"/></Dataset></Query>", output);
        //api.prepareQuery("<Query limit=\"100\" client=\"webbrowser\" processor = \"TSV\"> <Dataset name=\"hsapiens_gene_ensembl_hopkinsBreast\"><Attribute name = \"ensembl_gene_id\" /><Filter name=\"chromosome_name\" value=\"X\"/><Filter name=\"start\" value=\"1\"/><Filter name=\"end\" value=\"10000000\"/></Dataset></Query>", output);
//api.prepareQuery("<Query processor=\"TSV\" limit=\"100\"><Dataset name = \"acarolinensis_gene_ensembl\" interface = \"default\" ><Attribute name=\"chromosome_name\"/></Dataset></Query>", output);
//api.prepareQuery("<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE Query><Query client=\"webbrowser\" processor=\"TSV\" limit=\"10\" header=\"1\"><Dataset name=\"mmusculus_gene_ensembl\" config=\"gene_ensembl\"><Filter name=\"biol_process_evidence_code\" value=\"IC\"/><Filter name=\"cell_component_evidence_code\" value=\"IPI\"/><Filter name=\"mol_function_evidence_code\" value=\"IDA\"/><Attribute name=\"biological_process__go_biological_process_id\"/><Attribute name=\"cellular_component__go_cellular_component_id\"/><Attribute name=\"molecular_function__go_molecular_function_id\"/></Dataset></Query>", output);
//  api.prepareQuery("<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE Query><Query client=\"webbrowser\" processor=\"TSVX\" limit=\"100\" header=\"1\"><Dataset name=\"hsapiens_gene_ensembl_hopkinsBreast3,hsapiens_gene_ensembl_sangerBreast3b,hsapiens_gene_ensembl_hopkinsColon3,hsapiens_gene_ensembl_hopkinsGBM3,hsapiens_gene_ensembl_tcgaGBM3,hsapiens_gene_ensembl_jpLiver3b,hsapiens_gene_ensembl_jpRiken3b,hsapiens_gene_ensembl_sangerMelanoma3b,hsapiens_gene_ensembl_hopkinsPanc3,hsapiens_gene_ensembl_oicrPanc3b,hsapiens_gene_ensembl_garvanPanc3,hsapiens_gene_ensembl_tcgaOV3,hsapiens_gene_ensembl_sangerLung3b\" config=\"hsapiens_gene_ensembl_1\"><Filter name=\"ensembl_gene_id\" value=\"ENSG00000001626\"/><Attribute name=\"path_title_copy\"/></Dataset></Query>").runQuery(output);
        // 9003 2 datasets intersection
        //api.prepareQuery("<Query processor=\"TSV\" limit=\"-1\"><Dataset name=\"hsapiens_gene_ensembl_oicr\" config=\"hsapiens_gene_ensembl\"><Attribute name=\"ensembl_gene_id\"/></Dataset><Dataset name=\"hsapiens_gene_pancreas\"><Attribute name=\"ensembl_gene_id\"/><Attribute name=\"ensembl_peptide_id\"/></Dataset></Query>", output);
        //api.prepareQuery("<Query limit=\"100\" client=\"webbrowser\" processor = \"TSV\"> <Dataset name=\"hsapiens_gene_ensembl_hopkinsBreast\" config=\"hsapiens_gene_ensembl\"><Attribute name = \"ensembl_gene_id\" /><Filter name=\"chromosome_name\" value=\"1\"/><Filter name=\"start\" value=\"1\"/><Filter name=\"end\" value=\"10000000\"/></Dataset><Dataset name=\"hsapiens_gene_ensembl_hopkinsGBM\"><Attribute name = \"ensembl_gene_id\" /><Filter name=\"chromosome_name\" value=\"1\"/><Filter name=\"start\" value=\"1\"/><Filter name=\"end\" value=\"100000000\"/></Dataset></Query>", output);

        // 9003 3 datasets intersection
       // api.prepareQuery("<Query limit=\"500\" processor = \"TSV\"> <Dataset name=\"hsapiens_gene_ensembl_hopkinsBreast\" config=\"hsapiens_gene_ensembl\"><Attribute name = \"ensembl_gene_id\" /><Filter name=\"chromosome_name\" value=\"1\"/><Filter name=\"start\" value=\"1\"/><Filter name=\"end\" value=\"10000000\"/></Dataset><Dataset name=\"hsapiens_gene_ensembl_hopkinsGBM\" config=\"hsapiens_gene_ensembl\"><Attribute name = \"ensembl_gene_id\" /><Filter name=\"chromosome_name\" value=\"1\"/><Filter name=\"start\" value=\"1\"/><Filter name=\"end\" value=\"10000000\"/></Dataset><Dataset name=\"hsapiens_gene_ensembl_hopkinsColon\" config=\"hsapiens_gene_ensembl\"><Attribute name = \"ensembl_gene_id\" /><Filter name=\"chromosome_name\" value=\"1\"/><Filter name=\"start\" value=\"1\"/><Filter name=\"end\" value=\"10000000\"/></Dataset></Query>", output);
        // api.prepareQuery("<Query processor=\"TSV\" limit=\"10\"><Dataset name=\"hsapiens_gene_ensembl\" config=\"gene_ensembl\"><Filter name=\"somatic_mutation_bool__sgv_conseq__frameshift_coding\" value=\"only\"/><Attribute name=\"ensembl_gene_id\"/></Dataset></Query>", output);
        // 9003 2 dataset union
        //api.prepareQuery("<Query processor=\"TSV\" limit=\"5\"><Dataset name=\"hsapiens_gene_ensembl_hopkinsBreast,hsapiens_gene_ensembl_hopkinsColon\" config=\"hsapiens_gene_ensembl\"><Attribute name=\"ensembl_gene_id\"/><Attribute name=\"chromosome_name\"/><Attribute name=\"strand\"/></Dataset></Query>", output);

        // 9003 4 dataset union
        //api.prepareQuery("<Query processor=\"TSV\" limit=\"5\"><Dataset name=\"hsapiens_gene_ensembl_hopkinsBreast,hsapiens_gene_ensembl_sangerBreast,hsapiens_gene_ensembl_hopkinsColon,hsapiens_gene_ensembl_hopkinsPanc\" config=\"hsapiens_gene_ensembl\"><Attribute name=\"ensembl_gene_id\"/><Attribute name=\"chromosome_name\"/><Attribute name=\"strand\"/></Dataset></Query>", output);

        // 9003 2 dataset union + 2 dataset intersection
        //api.prepareQuery("<Query processor=\"TSV\" limit=\"100\" client=\"webbrowser\"><Dataset name=\"hsapiens_gene_ensembl_hopkinsGBM,hsapiens_gene_ensembl_hopkinsColon\" config=\"hsapiens_gene_ensembl\"><Attribute name=\"ensembl_gene_id\"/><Attribute name=\"chromosome_name\"/><Attribute name=\"strand\"/></Dataset><Dataset name=\"hsapiens_gene_pancreas\"><Attribute name = \"fp_ensembl_gene_id\" /></Dataset></Query>", output);

        // 9003 4 dataset union + 2 dataset intersection
        //api.prepareQuery("<Query processor=\"TSV\" limit=\"100\" client=\"webbrowser\"><Dataset name=\"hsapiens_gene_ensembl_hopkinsBreast,hsapiens_gene_ensembl_sangerBreast,hsapiens_gene_ensembl_hopkinsColon,hsapiens_gene_ensembl_hopkinsPanc\" config=\"hsapiens_gene_ensembl\"><Attribute name=\"ensembl_gene_id\"/><Attribute name=\"chromosome_name\"/><Attribute name=\"strand\"/></Dataset><Dataset name=\"kegg\"><Attribute name = \"pathway_name\" /></Dataset></Query>", output);

        // 9003 7 dataset union + 2 dataset intersection
        //api.prepareQuery("<Query processor=\"TSV\" limit=\"5001\"><Dataset config=\"hsapiens_gene_ensembl\" name=\"hsapiens_gene_ensembl_hopkinsGBM,hsapiens_gene_ensembl_hopkinsColon,hsapiens_gene_ensembl_hopkinsBreast,hsapiens_gene_ensembl_hopkinsPanc,hsapiens_gene_ensembl_sangerBreast,hsapiens_gene_ensembl_sangerColon,hsapiens_gene_ensembl_oicr,hsapiens_gene_ensembl_garvan\"><Attribute name=\"ensembl_gene_id\"/><Attribute name=\"chromosome_name\"/><Attribute name=\"strand\"/></Dataset><Dataset name=\"hsapiens_gene_pancreas\"><Attribute name = \"fp_ensembl_gene_id\" /></Dataset></Query>", output);

        // 9003 12 dataset union + 2 dataset intersection
        //api.prepareQuery("<Query processor=\"TSV\" limit=\"100\" client=\"webbrowser\"><Dataset name=\"hsapiens_gene_ensembl_hopkinsBreast,hsapiens_gene_ensembl_sangerBreast,hsapiens_gene_ensembl_hopkinsColon,hsapiens_gene_ensembl_tcgaGBM,hsapiens_gene_ensembl_hopkinsGBM,hsapiens_gene_ensembl_japanLiver,hsapiens_gene_ensembl_sangerLung,hsapiens_gene_ensembl_sangerMelanoma,hsapiens_gene_ensembl_tcgaOV,hsapiens_gene_ensembl_garvan,hsapiens_gene_ensembl_hopkinsPanc,hsapiens_gene_ensembl_oicr\" config=\"hsapiens_gene_ensembl\"><Filter name=\"chromosome_name\" value=\"22\"/><Attribute name=\"ensembl_gene_id\"/><Attribute name=\"simple_somatic_mutation__dm_diagnosis_id\"/><Attribute name=\"simple_somatic_mutation__dm_primary_tumour_type\"/></Dataset><Dataset name=\"hsapiens_gene_pancreas\" config=\"hsapiens_gene_pancreas\"><Attribute name=\"fp_ensembl_gene_id\"/><Attribute name=\"fp_fc\"/></Dataset></Query>", output);


        // 9003 broken query
        //api.prepareQuery("<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE Query><Query processor=\"TSV\" limit=\"10\"><Dataset name=\"hsapiens_gene_ensembl_hopkinsBreast\" > <Attribute name=\"ensembl_gene_id\"/></Dataset><Dataset name=\"kegg\" config=\"kegg\"><Attribute name=\"pathway_name\"/><Attribute name=\"pathway_title\"/></Dataset><Dataset name=\"pathway\" config=\"pathway\"><Attribute name=\"stableidentifier_identifier\"/></Dataset></Query>", output);

        // 9003 gene search broken query
        // api.prepareQuery("<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE Query><Query processor=\"TSV\" limit=\"100\" client=\"webbrowser\"><Dataset name=\"hsapiens_gene_ensembl_sangerBreast,hsapiens_gene_ensembl_hopkinsColon,hsapiens_gene_ensembl_hopkinsBreast\" config=\"hsapiens_gene_ensembl_2\"><Filter name=\"ssm_clinical_staging_7\" value=\"only\"/><Attribute name=\"ensembl_gene_id\"/></Dataset></Query>", output);
        // SAMPLE QUERY
        //api.prepareQuery("<Query processor=\"TSV\"><Dataset name=\"sample_sangerBreast,sample_hopkinsColon,sample_hopkinsBreast\"><Attribute name=\"donor_id\"/><Attribute name=\"sex\"/><Attribute name=\"race\"/><Attribute name=\"diagnosis_id\"/><Attribute name=\"primary_tumour_type\"/><Attribute name=\"disease_site\"/><Attribute name=\"sample_id\"/><Attribute name=\"matched_sample_id\"/></Dataset></Query>",output);

        // ENSEMBL
        //api.prepareQuery("<Query processor=\"TSV\" limit=\"100\" client=\"webbrowser\"><Dataset name=\"hsapiens_gene_ensembl\"><Filter name=\"chromosome_name\" value=\"X\"/><Attribute name=\"ensembl_gene_id\"/></Dataset></Query>", output);
        //[JONATHAN TO FIX: doesnt work because getPortable position on mouse returns NULL]
        //api.prepareQuery("<Query limit=\"100\" client=\"webbrowser\" processor = \"TSV\"> <Dataset name=\"hsapiens_gene_ensembl\"><Attribute name = \"ensembl_gene_id\" /><Attribute name=\"ensembl_transcript_id\"/></Dataset> <Dataset name=\"mmusculus_gene_ensembl\"><Attribute name = \"ensembl_gene_id\" /><Attribute name=\"ensembl_transcript_id\"/> </Dataset></Query>", output);

        // VEGA
        //api.prepareQuery("<Query processor=\"TSV\" limit=\"10\"><Dataset name=\"hsapiens_gene_vega\"><Filter name=\"chromosome_name\" value=\"X\"/><Attribute name=\"vega_gene_id\"/></Dataset></Query>", output);

        // REACTOME
        //api.prepareQuery("<Query processor=\"TSV\" limit=\"10\"><Dataset name=\"reaction\"><Attribute name=\"_displayname\"/><Attribute name=\"stableidentifier_identifier\"/></Dataset></Query>", output);

        //api.prepareQuery("<Query limit=\"100\" client=\"webbrowser\" processor = \"TSV\"> <Dataset name=\"hsapiens_gene_ensembl_hopkinsBreast\"><Attribute name = \"ensembl_gene_id\" /><Filter name = \"with_imgtligm_db\" value = \"excluded\"/></Dataset></Query>", output);


        //api.prepareQuery("<Query limit=\"100\" client=\"webbrowser\" processor = \"TSV\"> <Dataset name=\"hsapiens_gene_ensembl_hopkinsBreast\"><Attribute name = \"ensembl_gene_id\" /><Attribute name=\"ensembl_transcript_id\"/></Dataset> <Dataset name=\"hsapiens_gene_ensembl_hopkinsColon\"><Attribute name = \"ensembl_gene_id\" /><Attribute name=\"ensembl_transcript_id\"/> </Dataset><Dataset name=\"hsapiens_gene_ensembl_hopkinsGBM\"><Attribute name = \"ensembl_gene_id\" /><Attribute name=\"ensembl_transcript_id\"/> </Dataset></Query>", output);

        //api.prepareQuery("<Query processor=\"TSV\" limit=\"10\"><Dataset name=\"hsapiens_gene_ensembl_hopkinsGBM,hsapiens_gene_ensembl_hopkinsPanc,hsapiens_gene_ensembl_oicr\"><Filter name=\"new_id_list_filters\" value=\"g35435a\"/><Attribute name=\"ensembl_gene_id\"/><Attribute name=\"chromosome_name\"/><Attribute name=\"start_position\"/><Attribute name=\"end_position\"/><Attribute name=\"simple_somatic_mutation__dm_mutation_type\"/><Attribute name=\"simple_somatic_mutation__dm_consequence_type\"/><Attribute name=\"simple_somatic_mutation__dm_chromosome\"/><Attribute name=\"simple_somatic_mutation__dm_chromosome_start\"/><Attribute name=\"simple_somatic_mutation__dm_chromosome_end\"/><Attribute name=\"mutation_type\"/><Attribute name=\"copy_number_somatic_mutation__dm_copy_number\"/><Attribute name=\"copy_number_somatic_mutation__dm_chromosome\"/><Attribute name=\"copy_number_somatic_mutation__dm_chromosome_start\"/><Attribute name=\"copy_number_somatic_mutation__dm_chromosome_end\"/></Dataset></Query>");


        // KEGG
        //api.prepareQuery("<Query limit=\"100\" client=\"webbrowser\" processor = \"TSV\"> <Dataset name=\"hsapiens_gene_ensembl_hopkinsBreast\"><Attribute name = \"ensembl_gene_id\" /></Dataset><Dataset name=\"kegg\"><Attribute name = \"pathway_name\" /></Dataset> </Query>", output);

        output.close();
    }
} 

